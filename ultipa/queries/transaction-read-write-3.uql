find().nodes({@Person && _id in [$srcId,$dstId]}) as nodes return nodes.is_blocked as is_blocked;

insert().into(@Guarantee).edges({_from:$srcId,_to:$dstId,timestamp:$time});

n({@Person && _id==$srcId}).re({@Guarantee && timestamp <> $startTime,$endTime})[:10].n({@Person} as person)
with collect(distinct(person)) as person1
n(person1).re({@Apply}).n({@Loan} as loan)
return table(sum(loan.loan_amount));

update().nodes({@Person && _id in[$srcId,$dstId]}).set({is_blocked:'True'})